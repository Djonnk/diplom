# Локальный Поисковый Движок

Этот проект представляет собой локальный поисковый движок, разработанный на Java с использованием Spring Boot. Он способен индексировать заданные веб-сайты, анализировать их содержимое и предоставлять результаты поиска по пользовательским запросам.

## Описание

Проект включает следующие основные функции:
- **Индексация сайтов**: Многопоточный обход веб-страниц с сохранением данных в базе PostgreSQL.
- **Лемматизация**: Анализ текста страниц с использованием библиотеки Lucene Morphology для русского языка.
- **Поиск**: Обработка запросов с выдачей релевантных страниц, включая заголовки, сниппеты и оценку релевантности.

Проект разработан в рамках учебного задания и демонстрирует навыки работы с Java, Spring Boot и базами данных.

## Технологии

- **Java**: Основной язык программирования.
- **Spring Boot**: Фреймворк для создания веб-приложения.
- **PostgreSQL**: База данных для хранения информации о сайтах, страницах, леммах и индексов.
- **Jsoup**: Библиотека для парсинга HTML-страниц.
- **Lucene Morphology**: Инструмент для лемматизации текста на русском языке.
- **Lombok**: Упрощение работы с POJO-классами.

## Требования

- JDK 17 или выше
- Maven 3.6+
- PostgreSQL 13+
- Доступ к интернету для загрузки зависимостей

## Установка и запуск

### 1. Клонирование репозитория
Склонируйте репозиторий на свой компьютер:
```bash
git clone <URL_репозитория>
cd search-engine
```

### 2. Настройка PostgreSQL
Установите PostgreSQL, если он ещё не установлен.
Создайте базу данных:
```sql
CREATE DATABASE search_engine;
```

### 3. Настройка конфигурации
Откройте файл src/main/resources/application.yaml и обновите параметры подключения к базе данных:
```yaml
spring:
  datasource:
    url: jdbc:postgresql://localhost:5432/search_engine
    username: your_username
    password: your_password
  jpa:
    hibernate:
      ddl-auto: update
    properties:
      hibernate:
        dialect: org.hibernate.dialect.PostgreSQLDialect
```

### 4. Сборка проекта
Соберите проект с помощью Maven:
```bash
mvn clean install
```

### 5. Запуск приложения
Запустите приложение:
```bash
mvn spring-boot:run
```
После запуска приложение будет доступно по адресу http://localhost:8080.

### 6. Использование API
**Запуск индексации**: GET /api/startIndexing
**Остановка индексации**: GET /api/stopIndexing
**Поиск**: GET /api/search?query=ваш_запрос&site=https://example.com&offset=0&limit=20

Пример ответа на запрос поиска:
```json
{
    "data": [
        {
            "uri": "http://www.playback.ru//pickup.html",
            "snippet": "При оплате картой комиссия 7%. Услуга самовывоза бесплатна. Адрес пункта самовывоза 129515, Москва, Звездный бульвар, 10, строение 1, офис 10. Телефон: +7(495)143-77-71 (многоканальный) Время работы: ",
            "relevance": 1.0,
            "title": "No title"
        },
        {
            "uri": "http://www.playback.ru//pickup.html#",
            "snippet": "При оплате картой комиссия 7%. Услуга самовывоза бесплатна. Адрес пункта самовывоза 129515, Москва, Звездный бульвар, 10, строение 1, офис 10. Телефон: +7(495)143-77-71 (многоканальный) Время работы: ",
            "relevance": 1.0,
            "title": "No title"
        },
        {
            "uri": "http://www.playback.ru//contacts.html",
            "snippet": "мен Контакты ◄ Вернуться назад Адрес пункта самовывоза Интернет магазин PlayBack.ru 129515, Москва, Звездный бульвар, 10, строение 1, офис 10( Как добраться). Телефон: 8(495)143-77-71 (многоканальный)",
            "relevance": 0.6666667,
            "title": "No title"
        },
        {
            "uri": "http://www.playback.ru//catalog/1314.html",
            "snippet": " +7(495)143-77-71 График работы: пн-пт: c 11-00 до 20-00 сб-вс: с 11-00 до 18-00 Наш адрес: Москва, Звездный бульвар, 10, строение 1, 2 этаж, офис 10. 2005-2025 ©Интернет магазин PlayBack.ru Наверх",
            "relevance": 0.33333334,
            "title": "No title"
        }
    ],
    "count": 4,
    "result": true
}
```